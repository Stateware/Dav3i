
<!DOCTYPE html>
<meta charset="UTF-8">

<!--
---Copyright 2015 Stateware Team: William Bittner, Joshua Crafts, 
---Nicholas Denaro, Dylan Fetch, Paul Jang, Arun Kumar, Drew Lopreiato,
---Kyle Nicholson, Emma Roudabush, Berty Ruan, Vanajam Soni
---
---This file is part of Dav3i.
---
---Dav3i is free software: you can redistribute it and/or modify
---it under the terms of the GNU General Public License as published by
---the Free Software Foundation, either version 3 of the License, or
---(at your option) any later version.
---
---Dav3i is distributed in the hope that it will be useful,
---but WITHOUT ANY WARRANTY; without even the implied warranty of
---MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
---GNU General Public License for more details.
---
---You should have received a copy of the GNU General Public License
---along with Dav3i.  If not, see <http://www.gnu.org/licenses/>.
-->

<!-- File Name:               index.html
     Description:             Web interface for data visualization
     Date Created:            2/19/2015
     Contributors:            Emma Roudabush, Vanajam Soni, Paul Jang, Joshua Crafts, Nicholas Denaro, Arun Kumar
     Date Last Modified:      11/23/2015
     Last Modified By:        Paul Jang
     Dependencies:            style.css, loading_script.js, lookup_table.js, map.js, data.js, dynamic_markup.js
     Additional Notes:        N/A
-->
<html>

<head>
    <title>DAV3I</title>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name='viewport' />
    <link rel="stylesheet" type="text/css" href="GUI/style.css">
    <link href='http://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans+Condensed:300' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="GUI/jvectormap/jquery-jvectormap-2.0.1.css" type="text/css" media="screen"/>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="GUI/jvectormap/jquery.js"></script>
    <script type="text/javascript" src="GUI/jsPDF-1.2.60/dist/jspdf.min.js"></script>
    <script type="text/javascript" src="GUI/jsPDF-1.2.60/libs/png_support/zlib.js"></script>
    <script type="text/javascript" src="GUI/jsPDF-1.2.60/libs/png_support/png.js"></script>
    <script type="text/javascript" src="GUI/jsPDF-1.2.60/plugins/addimage.js"></script>
    <script type="text/javascript" src="GUI/jsPDF-1.2.60/plugins/png_support.js"></script>
	<script type="text/javascript" src="GUI/wnumb-1.0.0/wNumb.js"></script>
    <script type="text/javascript" src="GUI/data_model.js"></script>
    <script type="text/javascript" src="GUI/data_query.js"></script>
    <script type="text/javascript" src="GUI/loading_script.js"></script>
    <script type="text/javascript" src="GUI/map.js"></script>
    <script type="text/javascript" src="GUI/data.js"></script>
    <script type="text/javascript" src="GUI/lookup_table.js"></script>
    <script type="text/javascript" src="GUI/settings.js"></script>
    <script type="text/javascript" src="GUI/graph.js"></script>
    <script type="text/javascript" src="GUI/dynamic_markup.js"></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
        google.load('visualization', '1.0', {'packages':['corechart']});
    </script>
    <script src="GUI/jvectormap/jquery-jvectormap-2.0.1.min.js"></script>
    <script src="GUI/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
</head>

<body>
    <div class="loading-screen">
        <body onload="initPage()"></body>
        <center>
            <img src="res/logo.png" alt="Logo"/>
            <br>
            <h1 class="open-sans">Disease and Virus Vaccination Visualization Interface<h1>
            <br>
            <div class="spinner">
                <div class="bounce1"></div>
                <div class="bounce2"></div>
                <div class="bounce3"></div>
            </div>
            <button onclick="SwitchToMain()" class="begin">Begin</button>
        </center>
    </div>
    <div class="settings-black" onclick="ApplyAndClose()">
    </div>
    <div class="help-black" onclick="CloseHelp()">
    </div>
    
    <div class="settings-screen">
        <h1 style="position: relative; top: 5%;">Settings</h1>
        <div class="graph-choice">
            <h3>Graph Type</h3>
            <form action="">
                <input id="graph-regional" type="radio" onclick="SetGraphType(0)" name="graphType" value="0">Regional</input><br>
                <input id="graph-combined" type="radio" onclick="SetGraphType(1)" name="graphType" value="1">Combined</input><br>
                <input id="graph-whole" type="radio" onclick="SetGraphType(2)" name="graphType" value="2">Whole Selection</input><br>
            </form>
        </div>
        <div class="timespan">
            <h3>Timespan Selection</h3>
            <table class="settings-timespans-table">
                <tr><td class="settings-timespans-text">Start Year:&emsp;</td><td class="settings-timespans-boxes"><input id="year-range-start" class="year-selector" maxlength="4" size="4" required></input></td><td id="year-range-start-error" style="cursor: default;">&emsp;</td></tr>
                <tr><td class="settings-timespans-text">End Year:&emsp;</td><td class="settings-timespans-boxes"><input id="year-range-end" class="year-selector" maxlength="4" size="4" required></input></td><td id="year-range-end-error" style="cursor: default;">&emsp;</td></tr>
                <tr><td class="settings-timespans-text">Heatmap Year:&emsp;</td><td class="settings-timespans-boxes"><input id="heatmap-year" class="year-selector" maxlength="4" size="4" required></input></td><td id="heatmap-year-error" style="cursor: default;">&emsp;</td></tr>
            </table>
        </div>
        <div class="vacc-choice">
            <h3>Statistic for Vaccinations Heat Map</h3>
            <form action="">
                <input id="vacc-sia" type="radio" onclick="SetVaccHMS(0)" name="graphType" value="0">SIA</input>
                <input id="vacc-mcv1" type="radio" onclick="SetVaccHMS(1)" name="graphType" value="1">MCV1</input>
                <input id="vacc-mcv2" type="radio" onclick="SetVaccHMS(2)" name="graphType" value="2">MCV2</input>    
            </form>
        </div>
        <div class="buttons">
                <button id="apply-button" class="flat-button" onclick="ApplySettings()">Apply</button>
                <button id="ok-button" class="flat-button" onclick="ApplyAndClose()">OK</button>
                <button id="close-button" class="flat-button" onclick="CancelSettings()">Cancel</button>
        </div>
      
    </div>

    <div class="new-custom-tab-menu">
        <h1 style="position: relative; top: 5%;">New Custom Tab</h1>

        <div class="new-tab-name-input" id="name-input">
            <form>
                <span>Name: <input type="text" id="new-tab-name"></span>
            </form>
        </div>

        <div class="stat-custom-tab" id="stat">
            <div class="custom-Tab-Dropdowns" id="StatDropdowns">
                <div class="stat_dropdown" id="stat1dropdown">
                    <select class="dropdown" id="stat_stat1"></select>
                </div>
                <div class="stat_dropdown" id ="stat2dropdown">
                    <select class="dropdown" id="stat_stat2"></select>
                </div>
            </div>
        </div>

        <div class="new-tab-buttons">
            <button id="new-tab-ok-button" class="flat-button" onclick="OkNewTabMenu()">OK</button>
            <button id="new-tab-close-button" class="flat-button" onclick="CloseNewTabMenu()">Cancel</button>
        </div>
    </div>


    <div class="help-screen">
        <div class="scrollbar-hover" style="overflow-y: scroll; height: 85%;">
            <h1>Help</h1>
            <h3>Graphs</h3>
            <p>Graph type may be switched by going to the settings </br> Clicking on a graph expands/shrinks it.</p>
            <h4>Regional</h4>
            <p>This displays graphs seperately per country.</p>
            <h4>Combined</h4>
            <p>This displays all countries on one graph.</p>
            <h4>Whole Selection</h4>
            <p>This displays a single graph with aggregate data.</p>
            <h3>Heatmap</h3>
            <p>The heatmap values can be changed by changing the current tab. </br> 
               The heatmap can be cleared of selection by clicking the button in </br>
               the bottom left corner of the map.</p>
            <h4>Vaccinations heatmap</h4>
            <p>When the vaccinations stat tab is selected, the stat that the heatmap </br>
               shows can be changed via the "stat for vaccinations heat map" selection </br>
               area in the settings menu. You can choose from SIA, MCV1, and MCV2 to be</br>
               to be shown by clicking the radio buttion to the left of your choice.</p>
             
        </div>
        <button id="close-help" class="flat-button" style="position: relative; top: 0" onclick="CloseHelp()">Close</button>
    </div>
    
    <div class="main-screen">
        <section class="spacer">
        </section>

        <div class="control-panel" id="control">
            <section class="settings">
                <img class="logo" src="res/logo.png" alt="Logo"/>
                <h1 class="open-sans" style="margin: 0">Measles Data Visualization</h1>
                <button id="settings" class="flat-button" onclick="OpenSettings()">Settings</button>
                <button id="help" class="flat-button" onclick="OpenHelp()">Help</button>
                <button id="upload" class="flat-button" onclick="window.location = 'Upload/data_upload.html';">Upload</button>
                <button id="export-graphs-to-pdf" onclick="GeneratePDF.execute()" target="_blank">Export Graphs to PDF</button>
            </section>
            <section class="graph" id="graph">
                <div>
                    <div id="tabs" class="tabWrapper">
                        <select class="tab-dropdown" id="tabDropdown" onChange="ChooseTab(GetSelectedDropdown('tabDropdown', 'elem'))"></select>
                        <button id="new-custom-tab" class="tab-addition-button" onclick="OpenNewTabMenu()">+</button>
                    </div>
                </div>
                <div id="graphs">
                </div>
            </section>
            
            <section class="expand">
                <img src="res/arrow_right.png" id="expand" onclick="Expand('97.5%')"/>
                <select class="dropdown" id="sessionSelect" onchange="OnSessionChange()">
                </select>
                <select class="dropdown" id="instanceSelect" onchange="OnInstanceChange()">
                </select>
            </section>
        </div>
        
        <div class="expand-black">
        </div>
        
        <div id="map-container" class="map-container">
            <div id="map" class="map">
                <button id="clear" class="flat-button" onclick>Clear Selection</button>
            </div>
        </div>

        
        <div class="footer">
            <p class="footer-text">Copyright <span onclick="teamPopup()" onmouseover="this.style.cursor='pointer'"><strong>Stateware Team</strong></span>. Licensed under the <strong><a target="_blank" href="http://opensource.org/licenses/MIT">MIT License</a></strong>. Built using <strong><a target="_blank" href="http://jvectormap.com/">jVectorMap</a></strong> and <strong><a target="_blank" href ="https://developers.google.com/chart/">Google Charts</a></strong>. <strong><a target="_blank" href ="http://stateware.org/">Learn more about Stateware</a></strong></p>
            <p onclick="bugPopup()" onmouseover="this.style.cursor='pointer'" class="bug-report"><strong>Report an issue</strong></p>
        </div>
    </div>

</body>
</html>
